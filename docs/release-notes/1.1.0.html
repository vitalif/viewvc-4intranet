<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<title>ViewVC: 1.1.0 Release Notes</title>
<style>
.h2, .h3 {
  padding: 0.25em 0em;
  background: white;
}
</style>
</head>

<body>

<h1>ViewVC 1.1.0 Release Notes</h1>

<div class="h2">
<h2 id="introduction">Introduction</h2>

<p>ViewVC 1.1.0 is the superset of all previous ViewVC releases.</p>

</div>

<div class="h2">
<h2 id="compatibility">Compatibility</h2>

<p>Each ViewVC release strives to maintain URL stability with previous
   releases, and 1.1.0 is no exception.  All URLs considered valid for
   previous ViewVC releases should continue to work correctly in this
   release, though possibly only via the use of HTTP redirects
   (generated by ViewVC itself).</p>

<p>The commits database functionality has changed in ViewVC 1.1.0 in
   way that breaks compatibility with prior ViewVC releases, but only
   for new database instantiations.  ViewVC 1.1.0 will continue to
   understand (for both read and write operations) the previous
   schema, so you are not required to rebuild your commits database
   for ViewVC 1.1.0 compatibility.  By default, new commits databases
   created using the 1.1.0 version of the <code>make-database</code>
   script will use the a new database schema that is unreadable by
   previous ViewVC versions, but if you need a database which can
   co-exist with a previous ViewVC version, you can use
   the <code>--version=1.0</code> option
   to <code>make-database</code>.</p>

<p>The ViewVC configuration files and template language has changed
   dramatically.  See the file <code>docs/upgrading-howto.html</code>
   in the release for information on porting existing versions of
   those items for use with ViewVC 1.1.0.</p>

</div>

<div class="h2">
<h2 id="compatibility">Features and Fixes</h2>

<div class="h3">
<h3 id="">Extensible path-based authorization w/ Subversion authz support</h3>

<p>In a nutshell, ViewVC is now able to do path-based authorization.
   ViewVC 1.0 has this configuration option for naming 'forbidden'
   modules, but it's really limited -- it basically just makes a
   universal decision about which top-level directories in a
   repository should be hidden by the ViewVC.  People want more, and I
   got request after request after request for ViewVC to learn how to
   honor Subversion's authz rules.  So, among that others, that's what
   ViewVC 1.1 can now do.  If you are using mod_authz_svn with Apache
   today, or svnserve's built-in authorization support, then you can
   now point ViewVC to the same authz configuration file and have it
   honor the access rules you've defined for your repositories.</p>

</div>

<div class="h3">
<h3 id="">Subversion versioned properties display</h3>

<p>ViewVC 1.0 can't show you the properties that Subversion lets you
   store on files and directory (svn:mime-type, svn:mergeinfo,
   svn:ignore, etc.).  ViewVC 1.1 can.</p>

</div>

<div class="h3">
<h3 id="">Unified markup and annotation views</h3>

<p>I was always bothered by the fact that the markup view (which can
   do syntax highlighting and stuff) looked differently than the
   annotate view (which couldn't).  In my mind, the output of those
   views should have been exactly the same, except that in annotation
   mode there were extra bits of information about the lines of the
   file.  So that's how it is now.</p>

</div>

<div class="h3">
<h3 id="">Unified, hassle-free Pygments-based syntax highlighting</h3>

<p>ViewVC 1.0 does syntax highlight by working with GNU enscript, or
   highlight, or php, or py2html -- all these external tools just to
   accomplish a single task.  But they all do things in slightly
   different ways.  And if you configure them wrongly, you get strange
   errors.  Pygments (which is also used by Trac for its syntax
   highlighting) is a Python package that requires no configuration,
   is easier to use inside ViewVC, and so on.  So I ditched all those
   various old integrations, and just use Pygments for everything now.
   This change was about developer sanity and installation
   simplicity.</p>

</div>

<div class="h3">
<h3 id="">Subversion svn:mime-type property value honoring</h3>

<p>ViewVC typically consults a MIME types file to determine what kind
   of file a given document is, based on its filename extension (.jpg
   = image/jpeg, ...).  But Subversion lets you dictate a file's MIME
   type using the svn:mime-type property.  ViewVC now recognizes that
   honors that property as the preferred source of a file's MIME
   type.</p>

</div>

<div class="h3">
<h3 id="">Support for full content diffs</h3>

<p>This just adds the ability to see colored diffs that show the full
   contents of the file (instead of only 3 or 15 lines of
   context).</p>

</div>

<div class="h3">
<h3 id="">Support for per-root configuration overrides</h3>

<p>This was necessitated by the authz stuff, but is just a way to
   change the ViewVC configuration parameters on a
   repository-by-repository basis (if you care to do so).</p>

</div>

<div class="h3">
<h3 id="">Optional email address obfuscation/mangling</h3>

<p>ViewVC can, when displaying revision metadata, munge strings that
   look like email addresses to protect them from screen-scraping
   spammers.  So a long message that says, "Patch by:
   cmpilato@red-bean.com" could be displayed by ViewVC as "Patch by:
   cmpilato@..."</p>

</div>

<div class="h3">
<h3 id="">Pagination improvements</h3>

<p>I reworked the way that the log and directory views split their
   results across multiple pages.  The old way was "Fetch 20 pages'
   worth of information, display 1 of them."  The new way is "Fetch
   only what you need to display the page requested, plus a little bit
   of border information."  This was large a performance
   enhancement.</p>

</div>
</div>

</body>
</html>
